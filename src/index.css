@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Animation Tokens */
    --ease-out: cubic-bezier(0.16, 1, 0.3, 1);
    --ease-in-out: cubic-bezier(0.65, 0, 0.35, 1);
    --ease-spring: cubic-bezier(0.34, 1.56, 0.64, 1);

    --duration-instant: 100ms;
    --duration-fast: 200ms;
    --duration-normal: 400ms;
    --duration-slow: 600ms;
    --duration-slower: 800ms;

    /* Grid */
    --grid-columns: 12;
    --grid-gutter: clamp(1rem, 2vw, 2rem);
    --content-max: 1440px;
    --nav-width: 80px;
  }

  html {
    scroll-behavior: smooth;
    scroll-padding-top: 2rem;
  }

  body {
    @apply bg-paper-white text-ink-dark antialiased;
    font-family: 'Instrument Sans', system-ui, sans-serif;
  }

  /* Dark mode */
  .dark body {
    @apply bg-ink-black text-paper-cream;
  }

  ::selection {
    @apply bg-accent text-paper-white;
  }

  .dark ::selection {
    @apply bg-accent-light text-ink-black;
  }
}

@layer components {
  /* Grid System */
  .grid-container {
    display: grid;
    grid-template-columns: repeat(12, 1fr);
    gap: var(--grid-gutter);
    padding-inline: clamp(1.5rem, 5vw, 6rem);
    max-width: var(--content-max);
    margin-inline: auto;
  }

  .grid-full-bleed {
    width: 100vw;
    margin-left: calc(-50vw + 50%);
  }

  /* Section Spacing */
  .section-spacing {
    padding-block: clamp(6rem, 12vh, 10rem);
  }

  /* Interactive Elements */
  .link-underline {
    @apply relative inline-block;
  }

  .link-underline::after {
    content: '';
    @apply absolute bottom-0 left-0 w-0 h-px bg-accent;
    transition: width var(--duration-normal) var(--ease-out);
  }

  .link-underline:hover::after {
    @apply w-full;
  }

  /* Card Surface */
  .card-surface {
    @apply bg-surface-elevated border border-border-visible;
    transition: transform var(--duration-fast) var(--ease-out),
                box-shadow var(--duration-fast) var(--ease-out);
  }

  .card-surface:hover {
    transform: translateY(-2px);
    @apply shadow-lg;
  }

  .dark .card-surface {
    @apply bg-ink-dark border-ink-medium/20;
  }

  /* Section Header */
  .section-header {
    @apply flex items-baseline gap-4 mb-12;
  }

  .section-title {
    @apply text-label uppercase text-ink-light tracking-[0.15em];
  }

  .dark .section-title {
    @apply text-paper-mid;
  }

  .section-number {
    @apply text-caption text-ink-light/50;
  }

  .dark .section-number {
    @apply text-paper-mid/50;
  }

  /* Main content area - accounts for nav */
  .main-content {
    @apply ml-0 lg:ml-[80px];
    transition: margin-left var(--duration-normal) var(--ease-out);
  }
}

@layer utilities {
  /* Text Styles */
  .text-balance {
    text-wrap: balance;
  }

  .text-pretty {
    text-wrap: pretty;
  }

  /* Vertical Text (for nav) */
  .writing-vertical {
    writing-mode: vertical-rl;
    text-orientation: mixed;
  }

  /* Subtle Grain Overlay */
  .grain-overlay {
    @apply pointer-events-none fixed inset-0 z-[9999];
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
    opacity: 0.015;
  }

  .dark .grain-overlay {
    opacity: 0.03;
  }
}

/* Scrollbar - Minimal */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  @apply bg-paper-warm;
}

::-webkit-scrollbar-thumb {
  @apply bg-ink-light/30 rounded-full;
}

::-webkit-scrollbar-thumb:hover {
  @apply bg-ink-light/50;
}

.dark ::-webkit-scrollbar-track {
  @apply bg-ink-dark;
}

.dark ::-webkit-scrollbar-thumb {
  @apply bg-paper-mid/30;
}

.dark ::-webkit-scrollbar-thumb:hover {
  @apply bg-paper-mid/50;
}

/* Smooth transitions for all interactive elements */
button, a {
  transition: all var(--duration-fast) var(--ease-out);
}
